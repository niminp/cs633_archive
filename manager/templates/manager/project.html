{% extends 'manager/base.html'  %}

{% block content %}
<div class="container-fluid mt-3" style="margin-bottom: 100px;">
	<div id="projects" class="row">
		{% for project in projects %}
			{% if request.user.is_authenticated or not project.is_hidden %}
				<div class="col-md-4 col-sm-6 mb-3">
					<div id="id" class="card h-100 border-dark" data-toggle="modal" data-target="#myModal{{ project.id }}" style="cursor: pointer">
						<div class="card-header">{{ project.name }}<br> <i>{{ project.semester }} {{ project.year }}</i></div>
						<div class="card-body text-dark">
							<p class="card-text">{{ project.description|truncatechars:200 }}</p>
						</div>
					</div>
				</div>

				<!--MODAL -->
				<div class="modal fade" id="myModal{{ project.id }}" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 id="project_name" class="modal-title">{{ project.name }}</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<b>Description:</b><br>
								{{ project.description }}
								<hr>
								<b>Instructor:</b> {{ project.instructor.first_name }} {{ project.instructor.last_name }} 
								<hr>
								<b>Team Members:</b>
								<ul>
									{% for team_member in project.get_team_member %}
										<li>{{ team_member.name }}</li>
									{% endfor %}
								</ul>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal">close</button>
								<!-- <button id="btn_download" type="button" class="btn btn-primary">Download</button> -->
							</div>
						</div>
					</div>
				</div>
			{% endif %}
		{% endfor %}
	</div>
</div>
{% endblock %}